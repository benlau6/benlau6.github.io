<section class="mt-8 w-full">
	<script
		src="https://giscus.app/client.js"
		data-repo="benlau6/benlau6.github.io"
		data-repo-id="R_kgDOMy-0Sg"
		data-category="Announcements"
		data-category-id="DIC_kwDOMy-0Ss4CjCea"
		data-mapping="pathname"
		data-strict="0"
		data-reactions-enabled="1"
		data-emit-metadata="0"
		data-input-position="bottom"
		data-theme="preferred_color_scheme"
		data-lang="en"
		data-loading="lazy"
		crossorigin="anonymous"
		async></script>
</section>

<script is:inline>
	function updateGiscusTheme() {
		const theme = document.documentElement.getAttribute("data-theme") === "dark" ? "dark" : "light";
		const iframe = document.querySelector("iframe.giscus-frame");
		if (!iframe) return;
		iframe.contentWindow.postMessage({ giscus: { setConfig: { theme } } }, "https://giscus.app");
	}

	const observer = new MutationObserver(updateGiscusTheme);
	observer.observe(document.documentElement, { attributes: true, attributeFilter: ["data-theme"] });

	window.onload = () => {
		updateGiscusTheme();
	};
</script>
