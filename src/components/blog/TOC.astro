---
import type { MarkdownHeading } from "astro";
import { generateToc } from "src/utils/generateToc";
import TOCHeading from "./TOCHeading.astro";

interface Props {
	headings: MarkdownHeading[];
}

const { headings } = Astro.props;

const toc = generateToc(headings);
---

{
	toc.length > 0 && (
		<aside class="sticky top-10 order-last mt-12 hidden min-w-48 max-w-64 lg:block">
			<h2 class="text-lg font-semibold text-accent-2">Table of Contents</h2>
			<ul class="mt-4">
				{toc.map((heading) => (
					<TOCHeading heading={heading} />
				))}
			</ul>
		</aside>
	)
}
